<FileScreen>:
  label:  label

  BoxLayout:
    orientation:  'vertical'

    FileChooserIconView:  ##  top region
      path: './data'
      filters: ['*.atlas']
      canvas.before:
        Color:
          rgb:  .4, .5, .5
        Rectangle:
          pos:  self.pos
          size:  self.size
      on_selection:  root.select(*args)

##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

      BoxLayout:  ##  bottom region
        orientation:  'horizontal'
        size_hint_y:  0.06

        Label:
          id:  label
          text:  'Select a spritesheet'
          canvas.before:
            Color:
              rgb:  .2, .3, .3
            Rectangle:
              pos:  self.pos
              size:  self.size

        Button:
          text:  'Select'
          background_color:  .4, .5, .5,  1
          on_release:  root.choice()
          size_hint_x:  0.25

##=========================================================
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<TileScreen>:
  BoxLayout:
    orientation:  'vertical'

    BoxLayout:  ##  tiles
      orientation:  'horizontal'
      size_hint_y:  0.25

      Button:
        text:  '<'
        id:  scrollLeft
        on_release:  root.scroll(-app.tileX*2)
        background_color:  .4, .5, .5,  1
        size_hint_x:  0.05

      Button:
        id:  tileSet
        on_release:  root.select()
        background_color:  0, 0, 0,  0
        size:  self.size
        pos:  self.pos

        canvas:
          Rectangle:
            texture:  app.Tile[0]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 0,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[1]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 1,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[2]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 2,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[3]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 3,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[4]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 4,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[5]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 5,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[6]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 6,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[7]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 7,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[8]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 8,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[9]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 9,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[10]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 10,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[11]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 11,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[12]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 12,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[13]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 13,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[14]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 14,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[15]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 15,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[16]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 16,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[17]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 17,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[18]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 18,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[19]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 19,  self.pos[1] + self.size[1] * .667 )
          Rectangle:
            texture:  app.Tile[20]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 0,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[21]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 1,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[22]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 2,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[23]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 3,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[24]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 4,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[25]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 5,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[26]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 6,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[27]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 7,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[28]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 8,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[29]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 9,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[30]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 10,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[31]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 11,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[32]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 12,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[33]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 13,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[34]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 14,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[35]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 15,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[36]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 16,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[37]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 17,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[38]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 18,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[39]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 19,  self.pos[1] + self.size[1] * .333 )
          Rectangle:
            texture:  app.Tile[40]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 0,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[41]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 1,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[42]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 2,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[43]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 3,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[44]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 4,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[45]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 5,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[46]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 6,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[47]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 7,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[48]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 8,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[49]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 9,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[50]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 10,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[51]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 11,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[52]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 12,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[53]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 13,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[54]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 14,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[55]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 15,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[56]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 16,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[57]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 17,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[58]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 18,  self.pos[1] )
          Rectangle:
            texture:  app.Tile[59]
            size:  (self.size[0] / 23,  self.size[1] / 3.3)
            pos:  (self.pos[0] + self.size[0] / 20 * 19,  self.pos[1] )



      Button:
        text:  '>'
        id:  scrollRight
        on_release:  root.scroll(app.tileX*2)
        background_color:  .4, .5, .5,  1
        size_hint_x:  0.05


##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    Button:  ##  map
      id:  map
      on_press:  root.paint(1)
      on_release: root.paint(0)
      on_release:  root.place()
      background_color:  1, 1, 1,  0.3
      size:  self.size
      pos:  self.pos

##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    BoxLayout:  ##  top button row
      id:  topRow
      orientation:  'horizontal'
      size_hint_y:  0.08

      Button:
        text:  'v'
        on_release:  root.vert(-1)
        background_color:  .4, .5, .5,  1

      Button:
        text:  '^'
        on_release:  root.vert(1)
        background_color:  .4, .5, .5,  1

      Label:
        id:  current
        text:  app.currentText

      Button:
        text:  '<'
        on_release:  root.horiz(-1)
        background_color:  .4, .5, .5,  1

      Button:
        text:  '>'
        on_release:  root.horiz(1)
        background_color:  .4, .5, .5,  1


##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    BoxLayout:  ##  bottom button row
      id:  bottomRow
      orientation:  'horizontal'
      size_hint_y:  0.1

      Button:
        text:  'Enemy'  ##  red
        on_release:  root.layer(0)
        background_color:  .9, .5, .5,  1

      Button:
        text:  'Bounds'  ##  green
        on_release:  root.layer(1)
        background_color:  .4, .9, .4,  1

      Button:
        text:  'Object'  ##  blue
        on_press:  root.layer(2)
        background_color:  .4, .4, .9,  1

      Button:
        text:  'OK'
        on_press:  root.generate()
        background_color:  .2, .3, .3,  1

      Button:
        text:  'Fore'  ##  red
        on_release:  root.layer(3)
        background_color:  .9, .5, .5,  1

      Button:
        text:  'Mid'  ##  green
        on_release:  root.layer(4)
        background_color:  .4, .9, .4,  1

      Button:
        text:  'Back'  ##  blue
        on_press:  root.layer(5)
        background_color:  .4, .4, .9,  1
